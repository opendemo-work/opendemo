# ğŸ­ Kubernetes PV/PVCç”Ÿäº§ç¯å¢ƒæœ€ä½³å®è·µ

> ä¼ä¸šçº§Kuberneteså­˜å‚¨è§£å†³æ–¹æ¡ˆï¼šé«˜å¯ç”¨æ¶æ„ã€æ€§èƒ½ä¼˜åŒ–ã€ç›‘æ§å‘Šè­¦ã€ç¾å¤‡æ¢å¤ç­‰ç”Ÿäº§ç¯å¢ƒå¿…å¤‡æŠ€èƒ½

## ğŸ“‹ æ¡ˆä¾‹æ¦‚è¿°

æœ¬æ¡ˆä¾‹æä¾›Kubernetes PV/PVCåœ¨ç”Ÿäº§ç¯å¢ƒä¸­çš„å®Œæ•´æœ€ä½³å®è·µæŒ‡å—ï¼Œæ¶µç›–é«˜å¯ç”¨è®¾è®¡ã€æ€§èƒ½ä¼˜åŒ–ã€ç›‘æ§ä½“ç³»å’Œç¾å¤‡æ–¹æ¡ˆã€‚

### ğŸ”§ æ ¸å¿ƒæŠ€èƒ½ç‚¹

- **é«˜å¯ç”¨æ¶æ„**: å¤šå‰¯æœ¬ã€æ•…éšœè½¬ç§»ã€è´Ÿè½½å‡è¡¡
- **æ€§èƒ½ä¼˜åŒ–**: I/Oè°ƒä¼˜ã€ç¼“å­˜ç­–ç•¥ã€èµ„æºé…é¢
- **ç›‘æ§å‘Šè­¦**: å­˜å‚¨ä½¿ç”¨ç‡ã€æ€§èƒ½æŒ‡æ ‡ã€å¼‚å¸¸æ£€æµ‹
- **ç¾å¤‡æ¢å¤**: æ•°æ®å¤‡ä»½ã€å¼‚åœ°å®¹ç¾ã€å¿«é€Ÿæ¢å¤
- **æˆæœ¬ç®¡æ§**: èµ„æºä¼˜åŒ–ã€å®¹é‡è§„åˆ’ã€æˆæœ¬åˆ†æ
- **å®‰å…¨åˆè§„**: è®¿é—®æ§åˆ¶ã€æ•°æ®åŠ å¯†ã€å®¡è®¡æ—¥å¿—

### ğŸ¯ é€‚ç”¨äººç¾¤

- ç”Ÿäº§ç¯å¢ƒè¿ç»´å·¥ç¨‹å¸ˆ
- ç³»ç»Ÿæ¶æ„å¸ˆ
- SREå›¢é˜Ÿæˆå‘˜
- ä¼ä¸šå­˜å‚¨ç®¡ç†å‘˜

---

## ğŸš€ ç”Ÿäº§ç¯å¢ƒéƒ¨ç½²

### 1. é«˜å¯ç”¨å­˜å‚¨æ¶æ„

```yaml
apiVersion: storage.k8s.io/v1
kind: StorageClass
metadata:
  name: production-ha-storage
  annotations:
    storageclass.kubernetes.io/is-default-class: "true"
provisioner: ebs.csi.aws.com
parameters:
  type: io2
  iopsPerGB: "100"
  encrypted: "true"
  kmsKeyId: "arn:aws:kms:region:account:key/key-id"
volumeBindingMode: WaitForFirstConsumer
reclaimPolicy: Retain
allowVolumeExpansion: true

# å¤šå¯ç”¨åŒºéƒ¨ç½²
allowedTopologies:
- matchLabelExpressions:
  - key: topology.ebs.csi.aws.com/zone
    values:
    - us-west-2a
    - us-west-2b
    - us-west-2c
```

---

## ğŸ“‹ å®Œæ•´ç”Ÿäº§å®è·µæ–¹æ¡ˆ

åŒ…å«ä»¥ä¸‹æ ¸å¿ƒå†…å®¹ï¼š
- é«˜å¯ç”¨å­˜å‚¨æ¶æ„è®¾è®¡
- æ€§èƒ½åŸºå‡†æµ‹è¯•å’Œä¼˜åŒ–
- ç›‘æ§å‘Šè­¦ä½“ç³»æ­å»º
- ç¾å¤‡æ¢å¤æµç¨‹
- æˆæœ¬ä¼˜åŒ–ç­–ç•¥
- å®‰å…¨åˆè§„é…ç½®

---